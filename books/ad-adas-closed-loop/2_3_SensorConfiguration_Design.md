---
title: "2.3 センサー構成の設計（Camera / LiDAR / Radar / GNSS / IMU 他）"
---

# 2.3 センサー構成の設計（Camera / LiDAR / Radar / GNSS / IMU 他）

この節では、車載センサー構成 (sensor configuration) の設計について解説します。Camera, LiDAR, Radar, GNSS, IMU などの代表的なセンサーの役割を整理し、視野・配置・オーバーラップ設計や夜間・悪天候への対応、Map-less / Map-based 前提による違いを議論します。データ中心・Closed-Loop の観点から、どのようなセンサー構成がどのようなデータを生み出し、後段の学習・評価に影響するのかを意識することが重要です。

## センサー構成設計の出発点：ODD とタスクからのバックキャスト

センサー構成は、単に「カメラ何台・LiDAR 何台」といった機器一覧ではなく、ODD とタスクからバックキャストして設計するのが基本です。1.2 節で整理したように、自動運転スタックには Perception / Prediction / Planning / Control など複数のモジュールが存在し、各モジュールには異なるデータ要件があります。

- Perception: 物体検出・追跡・セマンティックセグメンテーション・レーン検出など。空間分解能・視野・ダイナミックレンジが重要です。
- Prediction: 周囲エージェントの将来軌道推定。時間分解能や速度推定精度、オクルージョン下での継続観測性が重要です。
- Planning / Control: 自車位置と経路の精度・安定性、近傍環境の確実な検知、遅延の小ささが重要です。

ODD の観点からは、「高速道路主体か都市部主体か」「昼主体か夜間も含むか」「雪・霧などの悪天候をどこまで想定するか」によって、必要なセンサー種類や性能が大きく変わります。したがって、センサー構成設計の第一歩は、2.1 節で扱った ODD 定義・ユースケースと、1.2 節で扱ったスタック構造を組み合わせて、「どのタスクに対してどのセンサーが主要な情報源となるか」をマッピングすることです。

## センサーの役割と冗長性

一般的な自動運転車両では、以下のようなセンサーが組み合わされます。

- Camera: RGB 画像による高解像度なテクスチャ情報を提供し、物体検出・シーン理解・トラフィックサイン認識・レーン検出などに用いられます。
- LiDAR: 正確な距離情報と 3D 構造を提供し、障害物検出・地図作成・ローカライゼーションに利用されます。
- Radar: 長距離かつ悪天候に強いレンジ・相対速度情報を提供し、高速道路での先行車追従や衝突回避に有効です。
- GNSS / IMU / ホイールエンコーダ: 自車位置と姿勢、速度、加速度を推定するための情報源です。

センサフュージョン (sensor fusion) の観点では、これらを単に足し合わせるのではなく、「どのセンサーがどの条件下で信頼できるか」「どのセンサーが故障しても安全性を保てるか」を考えた冗長性設計が重要です。たとえば、カメラがまったく見えない霧の中でも Radar による検知で最低限のリスク回避を行えるようにしておく、LiDAR が一時的に故障してもカメラベースの世界モデルで安全側の挙動を取れるようにする、などです。

収集されるデータの多様性とノイズ特性は、そのまま学習データセットにも反映されます。センサー構成の選択は、「どのような分布のデータを、どのようなセンサー固有のバイアスとともに集めることになるのか」を決める行為でもあります。データ中心開発では、この点を意識してセンサー構成を選定することが重要です。

## カメラ構成：視野・解像度・ダイナミックレンジ

カメラはコストパフォーマンスの高いセンサーであり、多くのシステムで主役となっています。一方で、視野 (field of view; FOV)、解像度、ダイナミックレンジ、フレームレートなどのパラメータ選定がデータ品質に大きな影響を与えます。

### 視野とカメラ枚数

- 前方長距離認識が重要な高速道路中心の ODD では、狭 FOV（例: 40〜60 度）の望遠カメラを高解像度で配置し、遠方の車両や標識を早期に検知することが重視されることが多いです。
- 都市部や交差点中心の ODD では、広 FOV（例: 90〜120 度）のカメラを複数枚配置し、側方・斜め後方を含めた 360 度カバレッジを確保することが重要です。
- 一般的な構成として、フロント広角＋フロント望遠＋左右サイド＋リヤの 6〜8 カメラ構成が多くの実システムで採用されています。

視野設計では、「車両周囲のどの領域を、どの距離レンジまで、どの解像度でカバーするか」を coverage map として可視化し、死角やオクルージョンの分布を定量的に把握することが重要です。この coverage map は、そのままデータセット設計やシミュレーションのパラメータにも反映されます。

### 解像度・ダイナミックレンジ・フレームレート

- 解像度は、遠方の歩行者や標識、細かいテクスチャ（路面マークなど）の認識に直結しますが、帯域やストレージ、推論負荷にも影響します。
- ダイナミックレンジは、逆光・トンネル出入口・夜間のヘッドライトなど、ロングテールな光条件に対してどの程度ロバストかを決める要素です。HDR センサやマルチ露光技術の採用は、データ品質向上に大きく寄与します。
- フレームレートは、特に速度の高いシーンや歩行者飛び出しなどの短時間イベントに対する検知能力に関係します。一方で、フレームレートを上げるとデータ量が線形に増加するため、ロギングと学習の両方に負荷がかかります。

データ中心・Closed-Loop の観点では、これらのパラメータが「どのような光条件・運動条件でどの程度の誤検出・検出漏れを生んでいるか」を、実データに基づいて評価し、必要に応じてチューニングを進めることになります。

## LiDAR 構成：レンジ・チャネル数・設置位置

LiDAR は距離精度の高い 3D センサーであり、BEV / Occupancy ベースの世界モデルにとって重要な情報源です。一方でコストや消費電力が高く、可動部を含む構造の場合は信頼性の観点からも慎重な設計が求められます。

### レンジとチャネル数

- 高速道路主体の ODD では、150 m 以上の測距レンジが求められることが多く、チャネル数も 64ch 以上の高密度 LiDAR が採用されることがあります。
- 都市部主体の ODD では、中距離（〜80 m）に対する高解像度と、近距離（〜30 m）の死角の少なさが重視されます。この場合、チャネル数は 32ch でも、複数台を組み合わせた配置でカバーする設計もあります。

チャネル数やレンジは、そのまま BEV / Occupancy 表現の解像度やノイズ特性に影響します。世界モデル系の研究でも、LiDAR 密度の違いによる性能変化が報告されており、センサー構成とモデル性能のトレードオフは実務でも重要な検討事項になります。

### 設置位置と遮蔽

LiDAR の設置位置としては、ルーフトップ中央、フロントバンパー左右、車体四隅などが典型です。

- ルーフトップ中央: 全方位の視界を確保しやすい一方で、車高制限や空力、コスト面での制約があります。
- バンパーやフェンダー付近: 低い視点から近距離の障害物検出に強いものの、車体や他センサーによる遮蔽が増えます。

データ中心の観点では、LiDAR 配置が BEV 空間の「穴」やオクルージョン分布にどのような影響を与えるかを、ログやシミュレーションを通じて評価し、必要に応じて配置やチャネル数を見直すことが重要です。

## Radar 構成：速度情報と悪天候への強さ

Radar は、距離と相対速度を高い精度で測定でき、雨・霧・雪などの悪天候にも比較的強いセンサーです。一方で、角度分解能や高さ情報が限定的であり、単体では詳細な形状認識が難しいという特性があります。

- 前方長距離 Radar は高速道路での ACC (Adaptive Cruise Control) や AEB (Autonomous Emergency Braking) の基盤として広く利用されています。
- 近年では、広角のイメージング Radar を複数配置し、カメラと組み合わせて BEV 表現を構築するアーキテクチャも提案されています。

データ中心・Closed-Loop の観点では、Radar の強み（速度・悪天候耐性）を活かしつつ、カメラや LiDAR と組み合わせることで、「どのセンサーでどのロングテール条件をカバーするか」を設計することが重要です。例えば、豪雨時にはカメラの信頼度が下がる一方で Radar の信頼度は比較的高いため、その条件では Radar 重視のシーン検出やリスク推定を行う、といった戦略が考えられます。

## GNSS / IMU / Wheel Encoder：ローカライゼーションを支えるセンサー

GNSS / IMU / Wheel Encoder は、自車位置と姿勢を推定するための基盤センサーです。単体では十分な精度を得られないケースも多いため、センサフュージョンによりローカライゼーション精度を確保します。

- GNSS: オープンスカイでは高い位置精度が得られますが、都市キャニオンやトンネルでは品質が低下します。
- IMU / Wheel Encoder: 短時間の相対移動推定に強く、GNSS が使えない状況のブリッジとして機能しますが、長時間のドリフトが課題です。
- カメラ・LiDAR ベースの位置推定: Visual SLAM / LiDAR SLAM により、地図とのマッチングや相対位置推定を行います。

ODD に応じて、どのローカライゼーションモードを主力とするかは変わります。高速道路主体でオープンスカイが多い場合は GNSS 依存度を高める設計でも対応しやすい一方、都市キャニオン主体の ODD ではカメラ・LiDAR ベースのローカライゼーションの比重が高くなります。この選択は、そのままセンサー構成とデータ収集方針に影響します。

## センサー配置・視野・オーバーラップ設計

センサー配置は、ODD とユースケースに強く依存します。例えば、高速道路主体の ODD では前方長距離の視野を重視し、都市部の交差点主体の ODD では側方・斜め後方の死角を減らすことが重要になることが多いです。

センサー配置設計では、以下のようなポイントを検討します。

- カメラの水平・垂直視野 (FOV) と解像度、取り付け高さ・角度。
- LiDAR の搭載位置（ルーフトップ、バンパーなど）とスキャンパターン。
- Radar のビームパターンと重複領域。

オーバーラップ領域を適切に設計することで、センサー間のクロスチェックやキャリブレーション、センサフュージョンに有利なデータを得ることができます。一方で、過剰な重複はコストとデータ量の増大につながるため、Closed-Loop の観点では「どのような重複がどのような安全マージンに寄与しているか」を評価し続けることが重要です。

実務では、センサー配置の候補案に対して、シミュレーションや簡易レイトレーシングを用いて coverage map を生成し、以下のような指標を比較することがあります。

- 距離レンジごとの平均・最悪ケース視野（例えば 0〜30 m / 30〜80 m / 80 m 以上）。
- 特定シナリオ（交差点右折、ランプ合流など）におけるオクルージョン率。
- 各センサーの故障時に残るカバレッジ（フェイルオーバー時の視野）。

こうした定量的評価を通じて、センサーの数や配置を「コストと安全マージンのトレードオフ」として設計していきます。

## ダイナミックレンジ・露出・フレームレートと夜間／悪天候対応

Camera ベースのシステムでは、ダイナミックレンジ・露出制御・フレームレートなどの設定がデータ品質に大きく影響します。逆光やトンネル出口、夜間のヘッドライト・対向車ライト、雨粒や雪など、ロングテールな視覚条件に対しても安定した画像を取得できるかどうかが重要です。

データ中心の観点では、以下のような方針が考えられます。

- 露出やゲインの自動制御アルゴリズムを工夫し、可能な限り飽和や暗部つぶれを減らす。
- 夜間や悪天候専用のチューニングプロファイルを用意し、ODD に応じて切り替える。
- 取得した画像のヒストグラムや輝度統計をモニタリングし、オンラインで露出設定の健全性をチェックする。

これらの設定は、後段のデータクレンジングや品質ゲート設計にも影響します。「どの程度の画質であれば学習データとして許容するか」という基準を、Closed-Loop の中で徐々に洗練させていくことが求められます。

さらに、ナイトビジョン（NIR カメラやサーマルカメラ）を追加するかどうかも重要な設計判断です。これらのセンサーは夜間や逆光に強い一方で、コストやデータ量、アノテーションの難易度が増加します。データ中心・Closed-Loop の観点では、「Night-only ODD をどこまで攻めるか」「夜間 Long-tail セットの性能をどの程度まで引き上げる必要があるか」といった要求から逆算して導入可否を検討することになります。

## Map-less vs Map-based 前提による差

HD マップを前提とした Map-based アプローチと、地図に強く依存しない Map-less アプローチでは、センサー構成や必要なデータの性質が異なります。例えば、HD マップを用いる場合は、LiDAR や高精度 GNSS によるローカライゼーション専用データが重要になります。一方、Map-less な End-to-End アプローチでは、カメラ主体でローバストなシーン理解と自己位置推定を行うことが求められます。

データ中心・Closed-Loop の観点では、「どの程度マップに依存するか」を決めることが、「どのデータをどれくらい収集するか」「どのようなシミュレーションや評価を行うか」に直結します。例えば、マップ更新頻度や品質が十分でない地域では、Map-less 成分を強化するためのデータ収集と学習が必要になる場合があります。

- Map-based 前提: LiDAR とマップのマッチング精度やマップ更新レイテンシがボトルネックになることが多く、そのためのログ（LiDAR 生データ、マッチング残差など）を重点的に収集する必要があります。
- Map-less 前提: カメラ・LiDAR ベースの世界モデルや BEV 表現の精度が重要であり、その学習に適した多様な ODD のデータと自己教師ありタスクが求められます。

どちらのアプローチであっても、センサー構成は変化し続けるものです。Closed-Loop データエンジンでは、センサー構成の変更がデータ分布とモデル性能に与える影響を継続的にモニタリングし、「どのセンサーを増やした／減らした結果、どの ODD でどのような変化があったか」をデータとして把握することが重要です。

