# 2.1 ODD（運用設計領域）とユースケースの定義

この節では、自動運転・ADAS の開発において最初に定義すべき概念である ODD (operational design domain; 運用設計領域) とユースケースについて整理します。どのような道路、交通状況、環境条件を対象にするかを明確にすることが、必要なデータの種類と量、そして Closed-Loop なデータエンジン全体の設計にどのようにつながるかを説明します。また、データ中心の観点から、ODD 定義をどのようにデータ要件に落とし込むかを議論します。

## ODD とデータ要件の関係

ODD は、「システムが機能安全を満たしつつ、意図された通りに動作することが期待される環境条件の集合」と定義されることが多いです。典型的な ODD の要素として、以下のような軸があります。

- 地理的な範囲（特定都市、高速道路ネットワーク、キャンパス内など）
- 道路種別（高速道路、一般道、幹線道路、住宅街など）
- 交通条件（交通密度、歩行者・自転車の有無、車線数など）
- 環境条件（天候、明るさ、季節）
- 速度範囲、勾配、カーブのきつさ など

データ中心・Closed-Loop の観点では、ODD の定義はそのまま「どのような分布のデータを、どれくらいのカバレッジで集めるべきか」というデータ要件に結び付きます。例えば、「都市高速道路＋晴天昼間」を主な ODD とするシステムと、「郊外一般道＋夜間＋降雪」を含むシステムでは、必要なセンサー構成やデータ収集計画は大きく異なると考えられます。

## 地域／天候／時間帯／道路種別のカバレッジ設計

ODD を具体化する際には、地域・天候・時間帯・道路種別ごとのカバレッジ (coverage) を定量的に設計することが重要です。例えば、以下のような表を作成し、どのセルにどれだけの走行時間やイベント数が必要かを見積もる方法があります。

- 地域 × 道路種別（都市高速 / 郊外 / 山岳路 / 高速 IC 周辺）
- 天候 × 時間帯（晴れ / 雨 / 雪 × 昼 / 夕方 / 夜間）
- 特殊環境（トンネル、工事区間、スクールゾーンなど）

こうしたカバレッジ設計は、後続のデータ選択・評価段階でも重要な指標になります。Closed-Loop のサイクルを回す中で、「どのセルでヒヤリハットや介入が多いか」「どのセルのデータが不足しているか」を継続的に可視化し、フリートの走行計画やシナリオ生成にフィードバックしていきます。

## 「どのようなデータがどれくらい必要か」の要件化

ODD に基づき、「どのようなデータがどれくらい必要か」をできるだけ定量的に定義しておくことが望ましいです。例えば、以下のような指標を用いることがあります。

- 走行時間（hours of operation）や走行距離（km）での目標値
- シナリオ単位（交差点右折、合流、車線変更など）の発生回数
- レアイベント（急ブレーキ、AEB 介入、近接オブジェクト）の件数

もちろん、初期段階では見積りに不確実性が大きく、「どの程度あれば十分か」は事前にはわからないことが多いです。そのため、データ中心・Closed-Loop の観点では、ODD 要件を一度決めて終わりにするのではなく、「収集したデータとモデル性能を見ながら、ODD 要件自体を継続的にアップデートしていく」ことが重要と考えられます。

## Closed-Loop における ODD 定義の役割

Closed-Loop データエンジンでは、ODD 定義は以下のような局面で繰り返し参照されます。

- データ収集計画（どのルートをどれだけ走らせるか、どの時間帯にテストするか）
- データセット設計（どの ODD セグメントから何件ずつサンプルするか）
- 評価指標（ODD セグメント別にモデル性能を集計する際の軸）
- ヒヤリハット分析（どの ODD セグメントで問題が多く発生しているか）

読者のみなさんには、ODD 定義を単なる安全認証の文書上の要件としてではなく、「データ中心・Closed-Loop 開発のための座標系」として捉え、自チームのデータエンジン設計に活用していただきたいです。

## ユースケース定義とステークホルダーの合意形成

ODD を定義するとき、技術チームだけで完結させてしまうと、ビジネス要件や運用上の制約との間にギャップが生じることが多いです。例えば、「都市高速のみを ODD とする」と機能安全上は扱いやすく見えても、実際のサービスでは高速 IC 出入口や料金所、一般道との接続部も重要なユースケースになります。したがって、ODD 定義は以下のようなステークホルダーを巻き込んだ合意形成プロセスとして設計することが望ましいです。

- プロダクト／サービス企画: どの地域・どの時間帯でどのようなサービスを提供したいか。
- 運用チーム: どのような運行形態（シャトル、オンデマンド配車など）を想定しているか。
- 安全チーム・法務: どのような ODD であれば安全認証・法規制上のリスクを許容できるか。
- 技術チーム（車両・モデル・データ基盤）: どこまでの ODD であれば現実的な開発コスト・スケジュールで対応可能か。

データ中心の観点では、ユースケース定義の段階で「どのような指標でサービスの安全性・品質を評価するか」を議論しておくことも重要です。例えば、「1 万 km あたりの介入回数」「1 回乗車あたりのヒヤリハット回数」「特定 ODD セグメントでのインシデント率」などを、ユースケースとセットで定義しておくと、後続の Closed-Loop において KPI として運用しやすくなります。

## ODD 拡張とフェーズ分割

多くの実プロジェクトでは、最初から最終的な ODD を全てカバーしようとするのではなく、フェーズを分割して段階的に ODD を拡張していきます。例えば、

- フェーズ 1: 晴天昼間・特定エリアのみのシャトル運行。
- フェーズ 2: 同エリアの夜間運行を追加。
- フェーズ 3: 雨天や隣接エリアへの拡張。

といった具合です。このとき、データ中心・Closed-Loop の観点では、「フェーズ間でどのようにデータと評価指標を継承・拡張するか」が重要になります。フェーズ 1 で構築したデータセットと指標をそのままフェーズ 2 に流用すると、夜間特有の課題が見えにくくなる可能性があります。逆に、フェーズごとに完全に独立したデータセット・指標を持つと、進捗や改善度合いを比較しにくくなります。

そのため、ODD 拡張を計画する際には、

- フェーズをまたいで共通な指標（例: 全体の介入率）と、フェーズごとに追加される指標（例: 夜間限定のヒヤリハット率）を整理する。
- データセットやシナリオ DB において、「どのサンプルがどのフェーズの ODD に属するか」を明示的に管理する。

といった運用を検討することが望ましいです。

## ODD 定義とデータガバナンスの関係

ODD は、安全や技術だけでなく、データガバナンスにも関係します。例えば、特定の国・地域では顔認識や車内映像に関する厳しい規制が存在する場合があり、その地域を ODD に含めるかどうかの判断は、データ収集と匿名化・ガバナンス戦略に直接影響します。

- 特定地域を ODD に含める場合、その地域固有のプライバシー規制を満たすための匿名化・暗号化・アクセス制御が必要になる。
- 逆に、データガバナンス上の制約が厳しく、現実的に必要なデータを収集できない場合、その地域を ODD から外す（あるいは機能を限定する）といった判断もあり得ます。

第 3〜4 章では、ODD とデータガバナンスを結び付けたメタデータ設計やアクセス制御の考え方を扱いますが、本節では「ODD 定義は技術・ビジネス・法規制・データガバナンスの交差点にある」という点を押さえておいてください。

